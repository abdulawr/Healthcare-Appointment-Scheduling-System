# Use DevServices for datasource in test (ephemeral Postgres)
quarkus.datasource.devservices.enabled=true
quarkus.datasource.db-kind=postgresql

# Let Flyway run on test DB
quarkus.flyway.migrate-at-start=true

# Disable Kafka DevServices in test if you don't need Kafka here
mp.messaging.incoming.appointment-events.enabled=false
quarkus.kafka.devservices.enabled=false

# Disable OIDC completely for tests
quarkus.oidc.enabled=false

# Disable the "authenticated" permission from main config in tests
quarkus.http.auth.permission.authenticated.enabled=false

# Allow all HTTP requests without authentication in tests
quarkus.http.auth.permission.test-permit.paths=/*
quarkus.http.auth.permission.test-permit.policy=permit
quarkus.http.auth.permission.test-permit.enabled=true
