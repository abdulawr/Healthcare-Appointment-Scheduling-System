# ============================================================
# TEST CONFIGURATION - STAGE 2
# ============================================================

# Application
quarkus.application.name=billing-service-test

# STAGE 2: Use Testcontainers PostgreSQL for integration tests
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=test
quarkus.datasource.password=test
quarkus.datasource.jdbc.url=jdbc:tc:postgresql:15:///testdb

# Hibernate - Let Flyway handle schema
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=false

# Flyway - Run migrations in tests
quarkus.flyway.migrate-at-start=true
quarkus.flyway.clean-at-start=true
quarkus.flyway.baseline-on-migrate=true

# Logging
quarkus.log.level=WARN
quarkus.log.category."com.healthcare.billing".level=INFO
quarkus.log.category."io.quarkus.config".level=ERROR
quarkus.log.console.enable=true

# Disable features not needed for tests
quarkus.swagger-ui.enable=false
quarkus.smallrye-health.ui.enable=false
quarkus.micrometer.enabled=false
quarkus.scheduler.enabled=false