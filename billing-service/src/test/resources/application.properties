# Test Configuration - Using H2 for fast tests

# Database - H2 in-memory (much faster than Testcontainers for unit tests)
quarkus.datasource.db-kind=h2
quarkus.datasource.jdbc.url=jdbc:h2:mem:testdb11;DB_CLOSE_DELAY=-1;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;DEFAULT_NULL_ORDERING=HIGH
quarkus.datasource.username=sa
quarkus.datasource.password=

# Hibernate
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=false

# Flyway - Clean and migrate on test startup
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.clean-at-start=true
quarkus.flyway.clean-disabled=false

# Logging
quarkus.log.level=INFO
quarkus.log.category."com.healthcare.billing".level=INFO
quarkus.log.category."org.hibernate".level=WARN
quarkus.log.category."org.flywaydb".level=INFO

# Disable features not needed in tests
quarkus.swagger-ui.always-include=false
quarkus.health.extensions.enabled=false
quarkus.micrometer.enabled=false
quarkus.scheduler.enabled=false

# HTTP
quarkus.http.test-port=0